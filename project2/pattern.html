<!DOCTYPE html>
<html lang="ko">
<head>
    {% load static %}

    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:400,700,800&amp;subset=korean" rel="stylesheet">
    <style>
      p {
        font-family: "Nanum Gothic", sans-serif;
      }
      p.a {
        font-weight: 400;
      }
      p.b {
        font-weight: 700;
      }
      p.c {
        font-weight: 800;
      }
      p.d {
        font-weight: bold;
      }
    </style>

    <title>DW Project</title>


<body>
    <header>
        <img src="/static/img/대웅제약.jpg" height = "200">
        <h1> <p class = "c"> 병용처방 패턴파악 </h1>
    </header>

    <form action="/dwproject/search", method="get">

        <h3> <p class = "b"> 데이터 필터링 조건 </h3>
          <select id = "select1" onchange = "itemChange(this)">
            <option value = "base" selected disabled>성분 개수</option>
            <option value = "single">단일</option>
            <option value = "multiple">복수</option>
          </select>


          <select name="filtering" id="select2">
          <option selected>데이터 필터링 조합을 선택해주세요</option>
          </select><br>

            <script language="JavaScript">

            function itemChange(e) {
                var sing = ["단일성분"];
                var mult = ["===선택===","해당 성분 모두 포함 (AND)","해당 성분 중 한 가지 이상 포함 (OR)"];
                var target = document.getElementById("select2");

                if(e.value == "single") var d = sing;
                else if(e.value == "multiple") {
                  var d = mult;
                  var op = ["base", "1", "2"]
                  }

                target.options.length = 0;

                for (x in d) {
                    var opt = document.createElement("option");
                    if(e.value == "single") opt.value = d[x];
                    else if(e.value == "multiple") opt.value = op[x];
                    opt.innerHTML = d[x];
                    target.appendChild(opt);
                }
            }
            </script>


        <input type="text" name="element"
               placeholder="원하는 성분 입력 : 복수 성분 입력 시 ,나 공백으로 표현 ex) 421001ATB, 619101ATB / 421001ATB 619101ATB" size="120"/>


        <h3> <p class = "b"> 조합 선택 </h3>

        <select id = "select3" name = "function" onchange = "varChange(this)">
            <option value = "base" selected disabled>원하는 기능 선택 </option>
            <option value = "1"> top 단일병용처방 성분이 들어간 다빈도 조합 보기 </option>
            <option value = "2"> 전체 조합 보기 </option>
            <option value = "3"> 추출한 데이터에 특정 성분만 들어간 조합 보기 </option>
        </select><br>

        <input id="textBox" />


        <script language="JavaScript">

                    var a = document.getElementById("textBox")

                    function varChange(e) {

                        if(e.value == "1"){
                          var ph = "(상위 단일병용처방 성분 조합 경우) 단일성분 개수 입력" ;
                          var n = "top";
                          a.disabled = false;
                        }else if(e.value == "2"){
                          var ph = "전체 조합 추출";
                          var n = "";
                          a.disabled = true;
                        }
                        else if(e.value == "3"){
                          var ph = "(특정 성분 조합 경우) 특정 성분 입력";
                          var n = "wanted_e";
                          a.disabled = false;
                        }


                      a.type = "text";
                      a.placeholder = ph;
                      a.name = n;
                      a.size = "60";
                      a.appendChild(inp);

                    }
         </script>


         <h3>  <p class = "b"> 결과 상위 몇 가지 조합 추출? </h3>
        <input type="text" name="top_num"/>

        <input type="submit" value="Submit"/>
    </form>


</body>
</html>